# GGB 隐私保护配置示例
# 将此文件复制为 security.toml 并根据需要修改

[security]
# 是否隐藏IP地址（强烈推荐启用）
hide_ip = true

# 是否使用中继网络（隐藏IP时必须启用）
use_relay = true

# 中继节点列表（至少需要一个可用的中继节点）
# 格式：/ip4/地址/tcp/端口/p2p/PeerId
relay_nodes = [
    # 示例中继节点（需要替换为实际可用的中继节点）
    # "/ip4/203.0.113.50/tcp/9001/p2p/12D3KooWExampleRelay1",
    # "/ip4/198.51.100.25/tcp/9002/p2p/12D3KooWExampleRelay2",
]

# 私有网络密钥（用于创建私有网络，可选）
# private_network_key = "your-secret-network-key-here"

# 最大中继跳数（1-5，值越大隐私性越好但延迟越高）
max_hops = 3

# 是否启用自动NAT穿透（推荐启用）
enable_autonat = true

# 是否启用直接连接升级（DCUtR）
# 启用后可能尝试建立直接连接，可能暴露IP
enable_dcutr = false

[comms]
# 通信主题
topic = "ggb-training-private"

# 是否启用公共DHT（隐藏IP时应禁用）
enable_dht = false

# 监听地址（使用中继时可以是本地地址）
listen_addr = "/ip4/127.0.0.1/tcp/0"

# QUIC绑定地址
quic_bind = "127.0.0.1:9234"

# 引导节点文件（私有网络使用）
bootstrap_peers_file = "private_bootstrap_peers.txt"

[topology]
# 最大邻居数量（根据隐私需求调整）
max_neighbors = 6

# 故障转移池大小
failover_pool = 3

# 地理范围（公里，私有网络可减小）
geo_scale_km = 200.0

# 节点过期时间（秒）
peer_stale_secs = 180

[inference]
# 模型维度（根据隐私需求可减小）
model_dim = 128

# 是否使用训练模式
use_training = false

# 学习率
learning_rate = 0.001

# 损失函数类型
loss_type = "MSE"

# 检查点目录
checkpoint_dir = "./checkpoints"

# 隐私提示：
# 1. 启用 hide_ip 和 use_relay 以完全隐藏IP
# 2. 禁用 enable_dcutr 防止直接连接暴露IP
# 3. 使用私有 bootstrap_peers.txt 文件
# 4. 定期更换中继节点以增强隐私
# 5. 监控网络活动，确保没有IP泄露
